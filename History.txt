= To do

== その他
* typeTemplate ではなく favorites という言葉を使うようにしよう。
* Tool Tips を設定する
* コンテキストメニューを作る

= may not to do
* bundle にもcreator と type を設定したい -- やめよう
	contents folder に PkgInfo をつくれば bundle にも creator と type を割り当てられるみたい
	Info.plist に
	CFBundleSignature-- creator
	CFBundlePackageType -- type
	を作っても効果はなかった
	
	バンドルの場合 Finder でアプリケーションを設定すると .LSOverride がバンドル内に作られる
	ファイルタイプは BNDL として creator だけ設定できるようにする
	
* MCTWindow のファイルテーブルにdrag&drop を受け付けるようにする。

= 2009-01-08
* 拡張子と type code が UTI として競合する場合、拡張子が優先されるようだ。
	* 拡張子がある場合は以下のようにする。
	* original UTI が current UTI を confirm するときは、current UTI は original UTI とする。-- やめ
	* current UTI と original UTI が お互いにどちらか confirm しないときは、表示を赤くする。 -- 済み
	* ツールチップでより詳細な説明を表示する。-- 済み
* type code は拡張子が無い場合に役に立つ？
* 拡張子もタイプコードも無いような場合（Unix 実行ファイルなど）は UTI を求めない。 -- 済み
	* ファイルからもとめた UTI を使うようにする。

= 2009-01-07
* ignoring creator type の状態がを正しく取得できていなかった不具合を修正
* ignoring creator type を変更できるようにした。

== To Do
* com.apple.LaunchServices.plist に依存したコードの削除 -- 済み
* TypeTable の選択項目が複数のウィンドウで共有されてしまう不具合を修正する。-- 済み
* なんとか、シフト+return を受け付けるようにしたい。 -- 済み
* Sparkle を使った self-update 機能 -- 済み

=2007-03-09
変更できないときの警告メッセージをシート終了

= 2007-03-08
変更できない理由を調べるところまでは終わった。
警告メッセージをシートで出す。
変更的ないときは window を閉じない。
複数のファイルの場合のときはどうする？
	* 変更できない物だけリストにのこす。

permission, lock status を確認してから変更する。
単にエラーメッセージを表示するだけでもいいかも

permissin を FileAttribute だけから調べるのは簡単ではない。
access を使うのが一番簡単？
autorization API を使えないか？
	調べるだけというサンプルは見つからない
	そもそも良く理解できない。
access を使おう。一番簡単。

= 2007-03-05
== key view loop がおかしい -- 修正
* favorite table を initialFirstResponder にするのは間違っている（いなくなるかもしれない物だから）。
* favorite table を makeFirstResponder すると、favorite table の nextKeyView が正しい値を返さなくなる。
	* makeFirstResponder をしなければ、tab で creator popup に移動できる。
* creator popup から shift-tab で favorite table に移動できたためしがない。
* firstResponder の nextKeyView をいじるとおかしくなるようだ。
* NSTableView ではなく、NSScrollView にたいして nextKeyView すればよいようだ


= 2007-02-02
Favorites Table の選択項目が保存が反映されない不具合を修正
Binding の option で validates immedietory を ON にした


= 2007-01-18
* open panel は modeless で開いているはず
* favorite type の編集画面は binding を中心に処理するようにする
	いろいろふつうごうがあるのでやらない。
* 新しい項目を作ったときの icon がおかしくなる？
	済み
		
= 2007-01-15
* サービスメニューのサポート
	* サービスメニューはFinder で選択項目が複数あると disable になるようだ
	* あまりに不完全なので、サポートしない
* Favorite Table を編集するとエラーが起きる不具合を修正
* ファイル選択ダイアログで package を選択できてしまう。
	package を選択するとダイアログを表示するようにした。

= 2006.12.26
DonationReminder が localize された version に含まれていなかった問題を修正
* 起動していない状態で複数の item を drop すると二つの MCTWindow が開かれる。
	いつの間にか済み

= 2006.08.10
awakeFromNib -> windowControllerDidLoadNib 
という順番で呼ばれるようだ。

= 2006.06.22
* help を整備する
* about 画面を作る
* donation メニュー項目を作る
* FavoriteTable の 開閉状態を保存する
* 不要なメニュー項目を消す -- save

= 2006.06.20
* drawer の開閉状態を保存する
* donation 催促ウィンドウ
* window の位置を保存する
	* NSWindow が NSWindowController の支配下にあるときには、Interface Builder で設定した autosave name は無視されるようだ。
	
= 2006.06.19
* Drag&Drop で登録したいときにアイコンを取得するようにする。
* タイプテンプレートの変更が保存されない不具合がある。
	* NSArrayController から取得した object を変更しても、NSUserDefaultsController に通知されないようだ。
	* しょうがないから、remove して insertすることにした。
	
= 2006.06.16
* LSCopyDefaultRoleHandlerForContentType -- UTI に関連ずけられた application の取得
* FInder では extension だけに関連づけられた UTI が定義される？

* com.apple.LaunchServices.plist をuserdefaults で読みにいく
	*そこで登録されている拡張子は、クリエータタイプとファイルタイプを無視すると考える。
* どうして WOED ファイルはクリエータを無視する？
* 情報ドローワには何を表示させる？
	* とりあえず、
		* original extension -- OK
		* original default application -- LSGetApplicationForItem, LSGetApplicationForURL --OK
		* original kind -- OK
		* original UTI -- OK
	* UTI -- OSType or 拡張子を UTI に変換 UTTypeCreatePreferredIdentifierForTag
		* OSType とは file type のこと？
	* アプリケーション -- LSGetApplicationForInfo でクリエータタイプからもとめる。
		* original と設定した creator type の両方を求める
	* LSGetHandlerOptionsForContentType
		* UTI を与えて、その UTI がクリエータタイプを無視するかどうか調べる。
	* 拡張子 -- Cocoa を使って取得。Launch Services は使わない。-- OK
	* 現在の種類 -- LSCopyKindStringForRef, LSCopyKindStringForURL -- OK
	* 変更後の種類 -- LSCopyKindStringForTypeInfo ファイルタイプ, creator Type, 拡張子から求める。
* icon の大きさを 16×16 にする。

= 2006.06.14
* タイプテンプレートにアイコンを表示させる。
	* LSGetApplicationForInfo でアプリケーションを取得
	* iconForFileType: -- type code が extension しか与えられない
	* GetIconRef
	* 最初の起動時に初期化処理をして、取得したアイコンは UserDefaults に保存
	
= 2006.06.13
* original default application
* current UTI
* current Kind

= 2006.06.12
* ドローワーのスクロールビューの挙動がおかしい
	* isFlipped で YES を返す View FlipView を一枚噛ますことで対処
* 情報ドローワに originalTypeCode, originalCreatorCode, originalExtension, originalKind を表示させるようにした。
* type table を collapse しているときは、resize を禁止する。
* 情報ウィンドウを開閉できるようにした。

= 2006.06.09
* drag & drop とソートを両立させる方法は？ -- 解決
	* 全部、remove してから、並び替えた array を addObjects することにした。

= 2006.06.07
* 2006-06-07 16:36:55.222 QuickFileType[9051] *** Illegal NSTableView data source (<MCTWindowController: 0x36c5d0>).  Must implement numberOfRowsInTableView: and tableView:objectValueForTableColumn:row:
	というエラーがでる。
	dataSourceとしての implementation は必要なのか？→ dataSource は使わない

* 複数のファイルを開いたとき常に、MCTWindowController を使うようにした。